---
nav_title: LINE
article_title: LINE
alias: /partners/line/
description: "This reference article outlines the partnership between Braze and LINE, one of the world's most popular instant messaging platforms."
page_type: partner
search_tag: Partner

---

# LINE

> [LINE](https://line.me/en/) is one of the world's most popular instant messaging platforms, used by hundreds of millions of monthly active users. Through this platform, brands can engage with their customers with rich and two-way messaging.

The Braze and LINE integration allows you to leverage Braze webhooks, advanced segmentation, personalization, and triggering features to message your users in LINE through the [LINE messaging API](https://developers.line.biz/en/docs/messaging-api/overview/).

## Prerequisites

LINE allows both promotional and non-promotional messaging to users as long your brand has secured users' consent. To send messages to users, you must meet one of two conditions:
- Users who have added your LINE official account as a friend
- Users who haven't added your LINE official account as a friend but have sent a message to your LINE official account (excluding users who have blocked your LINE official account).
<br><br>

| Requirement | Description |
| ----------- | ----------- | 
| LINE business account | A LINE [official business account](https://www.linebiz.com/jp-en/) is required to take advantage of this partnership.<br><br>When sending LINE messages, your messages will all be associated with your LINE official account, resulting in users seeing your account name and page.|
| Messaging API channel | When enabling the use of the messaging API in the LINE [official account manager](https://developers.line.biz/en/docs/messaging-api/getting-started/#using-oa-manager), a messaging API channel is created. This will be the channel you use to communicate with your customers. |
| Channel access tokens |The [channel access token](https://developers.line.biz/en/docs/messaging-api/channel-access-tokens/) will allow you to send messages to users that have added your LINE official account as a friend. This token can be found in the **LINE Developer Console** under the **Messaging API** tab.
| LINE user IDs | You will need to have users' LINE IDs (this ID is different from users' usernames) to send messages on LINE.<br><br>Once a user adds your LINE official account as a friend, you can access the user's LINE ID through LINE's Users API. |
{: .reset-td-br-1 .reset-td-br-2 .reset-td-br-3  .reset-td-br-4}

## Integration

### Step 1: Collect customer LINE IDs

To send messages in LINE, you need to collect your users' LINE IDs to identify your user and interact with them consistently. LINE IDs are not the same as the user's LINE usernames. LINE IDs are generated by LINE and can be used when interacting with LINE's APIs.

LINE IDs can be obtained using the LINE [User ID API](https://developers.line.biz/en/reference/messaging-api/#get-follower-ids). This endpoint will return a list of LINE IDs for all users who have friended your LINE official account or sent your account a message and have not blocked you. 

When making a GET request to the endpoint `https://api.line.me/v2/bot/followers/ids`, you will get the following:
```json
{
   "userIds":[
      "U4af4980629...",
      "U0c229f96c4...",
      "U95afb1d4df..."
   ],
   "next":"yANU9IA..."
}
```
Once you obtain a list of LINE IDs, you will send them to Braze as a `line_id` custom attribute.

### Step 2: Send IDs to Braze as custom attributes

Coordinate and share this with your developers to send the `line_id` to Braze as [custom attributes]({{site.baseurl}}/user_guide/Data_and_Analytics/Custom_Data/Custom_Attributes/#custom-attributes).

### Step 3: Set your channel access token as a Content Block.

In Braze, navigate to **Templates & Media > Content Blocks Library > + Create Content Block** and create a Braze [Content Block]({{site.baseurl}}/user_guide/engagement_tools/templates_and_media/content_blocks/#content-blocks). Name this Content Block `LINE_Channel_AccessToken`. 

Next, paste your channel access token in the Content Block body, and save it.

![An image the Content Block showing the Content Block name, Liquid tag, and censored channel access token.][2]

## Using this integration

Once set up, use this integration to target LINE users. First, [create a segment][62] for all users for whom the `LINE ID` exists as a custom attribute and turn on [analytics tracking][61] to track your Messenger subscription rates over time. 

![Segment filter "line_id" set to "is not blank".][63]

If you choose not to create a specific segment for Messenger subscribers, make sure to include a filter for `LINE ID` existing to avoid errors.

You may also use other segmentation to target your LINE campaigns and the rest of the campaign creation process, as is with any other campaign.

[1]: {% image_buster /assets/img_archive/line_channel_access_token.png %}
[2]: {% image_buster /assets/img_archive/line_content_block_token.png %}
[3]: {% image_buster /assets/img_archive/line_preview.png %}
[61]: {{site.baseurl}}/user_guide/data_and_analytics/reporting/viewing_and_understanding_segment_data/
[62]: {{site.baseurl}}/user_guide/engagement_tools/segments/creating_a_segment/#creating-a-segment
[63]: {% image_buster /assets/img_archive/line_segment.png %}
