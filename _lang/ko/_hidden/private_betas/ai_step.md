---
nav_title: AI 단계
article_title: AI 단계
permalink: /ai_step/
description: "이 참조 문서에서는 캔버스 AI 단계를 다룹니다."
Tool:
  - Canvas
hidden: true
---

# AI 단계

> 캔버스의 AI 단계는 ChatGPT를 활용하여 사용자가 생성한 입력(예: 설문조사 피드백)을 해석하고 적절한 응답을 결정하며 메시지를 트리거하는 등 개인화된 마케팅을 자동화하는 데, 이 모든 과정을 Braze 내에서 수행할 수 있습니다. ChatGPT는 타사인 OpenAI에 의해 구동됩니다.

{% alert note %}
AI 단계는 현재 베타 기능으로 제공되고 있습니다. 이 베타 평가판에 참여하려면 고객 성공 매니저에게 문의하세요.
{% endalert %}

## AI 단계 만들기 {#create-ai-step}
 
1. 캔버스에 새 단계를 추가하고 **AI 단계**를 선택합니다. <br><br>![캔버스 빌더의 AI 단계][1]{: style="max-width: 30%;"}<br><br>
2. AI에게 다양한 사용자 행동에 응답하는 방법을 알려주는 프롬프트를 만듭니다. 응답에는 커스텀 속성 업데이트 또는 메시지 전송이 포함될 수 있습니다. 이 프롬프트는 Liquid를 사용하여 다양한 사용자 속성 또는 입력에 따라 다른 응답 출력을 할당할 수 있습니다. <br><br>동일한 캔버스 내에서 향후 메시지를 개인화하는 데 사용할 수 있는 출력을 할당하려면 특정 이름(예: "메시지" 및 "감정 점수")으로 변수를 저장하는 프롬프트를 만듭니다. <br><br> ![AI 단계 설정에서 생성된 감정 점수를 기반으로 개인화된 메시지를 보내는 데 사용되는 샘플 AI 프롬프트입니다. 이 예는 "고객 감정 반응" 섹션 아래에 설명되어 있습니다.][2] <br><br>
3. **미리보기** 탭을 사용하여 특정 사용자에 대해 AI가 출력할 수 있는 내용을 테스트할 수 있습니다.<br><br> ![AI 단계 설정의 미리보기 탭에는 카메론의 이름, 신발 제품명, "편하지만 신발 끈이 이미 끊어졌어요"라는 텍스트 등 세 가지 매개변수에 대해 AI가 생성한 개인화된 메시지가 표시됩니다.][3]

## Liquid를 사용하여 AI 결과 참조
Liquid 로직 `{% raw %}{{ai_step_output.${key_name}}}{% endraw %}`을 삽입하여 이후 단계에서 AI 출력을 참조하세요. AI 단계의 프롬프트에서 `key_name`을 설정할 수 있습니다.

예를 들어 "메시지" 및 "감정 점수" 변수를 사용하는 경우 `{% raw %}{{ai_step_output.${message}}}{% endraw %}`을 사용하여 동일한 캔버스에서 후속 메시지를 개인화할 수 있습니다.

또한 AI 단계 출력을 읽는 사용자 업데이트 캔버스 단계를 사용하여 모든 AI 단계의 출력을 커스텀 속성으로 기록할 수도 있습니다(예: `{% raw %}{{ai_step_output.${sentiment_score}}}{% endraw %}`). 출력이 커스텀 속성으로 저장되지 않은 경우 동일한 캔버스의 후속 단계 외에는 다른 곳에서 사용할 수 없습니다.

## AI 단계 통계

AI 단계에는 다음과 같은 단계별 통계가 있습니다:

- **다음 단계로 진행합니다:** 캔버스에서 다음 단계로 진행한 사용자 수
- **캔버스 종료:** AI 단계가 마지막 단계였기 때문에 캔버스를 종료한 사용자 수
- **출력에 성공했습니다.** AI 단계가 성공적으로 출력을 생성한 사용자 수
- **출력에 실패했습니다:** AI 단계에서 출력을 생성하지 못한 사용자 수. 이 경우 사용자는 후속 단계를 계속 진행하게 됩니다.

### AI 단계 출력 이해하기

Braze가 AI 단계의 결과물을 폐기하고 고객을 다음 단계로 보내는 몇 가지 시나리오가 있습니다:
- 출력이 1,024자를 초과하는 경우
- 출력이 JSON이 아닌 경우
- 메시지가 부적절한 사용자 생성 콘텐츠에 플래그를 지정하는 OpenAI의 [조정](https://platform.openai.com/docs/guides/moderation/overview) 요건을 충족하지 못하면 다음과 같이 표시됩니다.

## AI 단계 사용 사례

### 고객 감정 반응

[AI 만들기 단계](#create-ai-step)의 예제에서 설명한 것처럼 고객 피드백에서 생성된 감정 점수를 기반으로 후속 메시지를 보내도록 AI에 요청할 수 있습니다.
- 긍정 감성 점수 - 사용자에게 리뷰를 남기도록 요청하는 푸시 알림을 트리거합니다.
- 중간 감정 점수 - 사용자에게 추가 도움이 필요한지 묻는 이메일을 트리거합니다.
- 낮은 감성 평가 점수 - 사용자 헬프 데스크에 알리는 웹훅을 트리거하여 지원 담당자가 미묘한 후속 조치를 취할 수 있도록 합니다.

#### AI 프롬프트 예시

이 예제는 [AI 단계 만들기](#create-ai-step)에서 사용되었습니다.

고객이 "`{% raw %}{{canvas_entry_properties.${product_name}}}{% endraw %}`"를 구매하고 제품 피드백을 "`{% raw %}{{canvas_entry_properties.${text}}}{% endraw %}`"로 제공했습니다. 감정 점수를 0에서 100 사이의 정수로 만듭니다. 그런 다음 개인화된 메시지를 작성합니다. 그러면 "메시지"와 "감성 점수"라는 두 개의 변수가 반환됩니다.

### 설문조사 후속 조치

인앱 또는 브라우저에서 자유 응답 섹션이 있는 설문조사를 실행하는 경우, AI 단계를 사용하여 자유 응답을 분석하고 적절한 후속 조치를 취할 수 있습니다. 

예를 들어, 메이크업 소매업체가 "올해의 뷰티 어워드에 어떤 제품을 후보로 추천하시겠습니까?"라는 설문조사를 실시하는 경우, 사용자가 선호하는 제품 유형과 브랜드에 대한 속성을 식별하고 할당하는 메시지를 사용하여 이 데이터를 기반으로 향후 콘텐츠를 개인화할 수 있습니다.

#### AI 프롬프트 예시

사용자의 응답을 통해 사용자가 가장 좋아하는 브랜드를 파악합니다. 그런 다음 설문조사에 참여해준 사용자에게 감사의 메시지를 작성하고 뷰티 전문가들도 좋아하는 브랜드에 대해 언급하는 메시지를 작성하세요. 그러면 "메시지"와 "즐겨 찾는 브랜드"라는 두 개의 변수가 반환됩니다.

![AI 단계 설정의 미리보기 탭에는 설문조사 응답 매개변수인 "나는 에스티 로더 페이스 크림을 좋아합니다"에 대해 AI가 생성한 개인화된 메시지가 표시되어 사용자가 설문조사를 작성해 준 것에 대해 감사하고 페이스 크림을 추천합니다.][4]

### 행동 기반 추천

고객은 AI에게 사용자 행동을 분석하고 추천 메시지를 보내도록 요청할 수 있습니다. 

예를 들어, 사용자의 가장 최근 구매 50건을 분석하고 가장 많이 구매한 카테고리를 새 사용자 지정 속성으로 설정하는 프롬프트를 만들 수 있습니다. 그런 다음 각 사용자가 즐겨 찾는 카테고리에 대한 개인화된 추천 이메일을 보낼 수 있습니다.

#### AI 프롬프트 예시

고객이 다음 제품을 구매했습니다: "`{% raw %}{{custom_attribute.${Products Purchased}}}{% endraw %}`". 사용자가 가장 많이 구매한 제품 카테고리를 파악합니다. 그러면 "가장 많이 구매한 카테고리"에 대한 새 변수가 반환됩니다.

![AI 단계 설정의 미리보기 탭에서 가장 많이 구매한 카테고리의 매개변수 '책'에 대해 AI가 생성한 변수를 표시합니다.][5]

## 요금 제한

회사당 분당 요청 횟수(RPM)는 10회로 제한되어 있습니다. 즉, 어떤 인공지능 단계의 경우 주어진 1분 동안 최대 10명의 사용자가 해당 단계를 받을 수 있으며, 10명을 초과하는 사용자는 자동으로 다음 단계로 넘어갑니다. 다음 분이 시작되면 사용자는 다시 AI 단계를 받을 수 있지만, 사용량 제한을 트리거한 이전 사용자는 다시 시도할 수 없습니다.

## AI 단계 제한

- 이 기능은 GPT-3.5를 활용합니다.
- 이 기능은 Braze OpenAI API 키를 사용합니다. 고유한 OpenAI API 키는 사용할 수 없습니다.
- 작업 공간당 분당 요청 횟수(RPM)는 5회, 회사당 요청 횟수는 10회로 제한됩니다.
- 이 기능은 HIPAA를 준수하지 않으므로 고객은 개인 식별 정보(PII) 또는 보호 대상 건강 정보(PHI)를 전송해서는 안 됩니다.

## 내 데이터는 어떻게 사용되어 OpenAI로 전송되나요?

메시지 콘텐츠를 분석하고 생성하기 위해 Braze는 사용자의 프롬프트를 OpenAI의 API 플랫폼으로 전송합니다. Braze에서 OpenAI로 전송되는 모든 쿼리는 익명으로 처리되므로, 사용자가 제공하는 메시지 콘텐츠에 고유 식별 정보를 포함하지 않는 한 OpenAI는 해당 쿼리가 누구로부터 전송되었는지 확인할 수 없습니다. [OpenAI의 API 플랫폼](https://openai.com/policies/api-data-usage-policies) 약관에 명시된 바와 같이, Braze를 통해 OpenAI의 API로 전송된 데이터는 모델을 학습하거나 개선하는 데 사용되지 않으며 30일 후에 삭제됩니다. [사용 정책](https://openai.com/policies/usage-policies)을 포함하여 사용자와 관련된 OpenAI의 정책을 준수해야 합니다. Braze는 AI가 생성한 콘텐츠와 관련하여 어떠한 종류의 보증도 하지 않습니다. 

[1]: {% image_buster /assets/img/ai_step1.png %}
[2]: {% image_buster /assets/img/ai_step2.png %}
[3]: {% image_buster /assets/img/ai_step3.png %}
[4]: {% image_buster /assets/img/ai_step4.png %}
[5]: {% image_buster /assets/img/ai_step5.png %} 