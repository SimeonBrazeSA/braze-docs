---
nav_title: 消毒
article_title: 消毒
page_order: 4
description: "この記事では、Brazeにおける電子メールメッセージングのサニタイズとその目的について定義する。"
channel:
  - email

---

# 除菌について

> サニタイズは、Brazeがメールメッセージ内の特定のタイプのJavaScriptを検出したときに発生するプロセスである。

## なぜ除菌を行うのか？

サニタイズの主な目的は、悪意ある者が他のBrazeダッシュボードユーザーのセッションデータにアクセスするのを防ぐことである。サニタイズしなければ、基本的な読み取り専用アクセス権を持つ悪意ある行為者は、CKEditorを使って、ネットワークリクエストを使って悪意ある行為者が望む場所に「現在のブラウザセッションを送信する」JavaScriptを使った電子メールを作成することができる。

別のダッシュボード・ユーザーがそのメール・テンプレートを開くと、JavaScriptが実行され、現在のユーザーのセッション・データが悪質業者に送信される。

注意点として、ほとんどのメール受信プロバイダーはJavaScriptを処理しないので、この措置はメールから不必要な肥大化を取り除き、サイズを小さくする意味もある。 

## Brazeはどのようにメッセージをサニタイズするのか？

BrazeがセキュリティリスクとなるJavaScriptを検出した場合、「**プレビューとテスト**」タブまたはHTMLエディタに移動してメールメッセージを表示する前に、BrazeがメッセージからJavaScriptを削除できることを確認してから次に進む。

![]({% image_buster /assets/img/email_sanitization.png %})

## 除菌はいつまで続くのか？

ドラッグ・アンド・ドロップ・エディターとHTMLエディターの両方において、サニタイズは行うが、以下のシナリオではサニタイズされた結果を永続化しない：

* 電子メールは以下の領域で表示される：
    * **受信トレイ・ビジョン・**セクションと**スパム検査**タブ
    * **メールパフォーマンスパネルの** **プレビューとヒートマップセクション**
* メールはテスト送信される

ドラッグ・アンド・ドロップ・エディターでは、サニタイズ処理を行い、さらに
エディターが閉じられ、キャンペーンが保存される。HTMLエディターでは、サニタイズ処理を行い、ユーザーがエディタータイプを切り替えてキャンペーンが保存されたときに、サニタイズ処理をメッセージに永続化する。

これらすべての場合において、サニタイズによってHTMLが変更されるとメッセージが表示される。サニタイズが完了する前に、ユーザーはこれを受け入れなければならない。